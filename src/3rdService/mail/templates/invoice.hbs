<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hóa đơn PhotoGo</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 20px;
      background-color: #f5f5f5;
    }
    .container {
      max-width: 800px;
      margin: 0 auto;
      background-color: white;
      padding: 30px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    .header {
      text-align: center;
      border-bottom: 3px solid #FF6B00;
      padding-bottom: 20px;
      margin-bottom: 30px;
    }
    .header h1 {
      color: #FF6B00;
      margin: 0;
      font-size: 28px;
    }
    .header p {
      color: #666;
      margin: 10px 0 0 0;
    }
    .info-section {
      margin-bottom: 25px;
    }
    .info-section h3 {
      color: #FF6B00;
      border-bottom: 1px solid #eee;
      padding-bottom: 5px;
      margin-bottom: 15px;
    }
    .info-row {
      display: flex;
      justify-content: space-between;
      margin-bottom: 8px;
      padding: 5px 0;
    }
    .info-row strong {
      min-width: 120px;
    }
    .booking-code {
      background-color: #FFF4EB;
      border: 2px solid #FF6B00;
      padding: 20px;
      text-align: center;
      margin: 20px 0;
      border-radius: 8px;
    }
    .booking-code h3 {
      color: #FF6B00;
      margin: 0 0 15px 0;
    }
    .code-display {
      font-size: 32px;
      font-weight: bold;
      color: #FF6B00;
      letter-spacing: 4px;
      font-family: monospace;
      background-color: white;
      padding: 15px;
      border-radius: 5px;
      display: inline-block;
    }
    .price-breakdown {
      border: 1px solid #ddd;
      border-radius: 5px;
      padding: 15px;
      margin: 20px 0;
    }
    .price-row {
      display: flex;
      justify-content: space-between;
      padding: 8px 0;
      border-bottom: 1px solid #eee;
    }
    .price-row:last-child {
      border-bottom: none;
      font-weight: bold;
      font-size: 18px;
      color: #FF6B00;
      border-top: 2px solid #FF6B00;
      padding-top: 15px;
    }
    .footer {
      text-align: center;
      margin-top: 30px;
      padding-top: 20px;
      border-top: 1px solid #eee;
      color: #666;
      font-size: 14px;
    }
    @media print {
      body {
        background-color: white;
        padding: 0;
      }
      .container {
        box-shadow: none;
        padding: 20px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Header -->
    <div class="header">
      <h1>HÓA ĐƠN THANH TOÁN</h1>
      <p>PhotoGo - Kết nối khách hàng với nhiếp ảnh gia</p>
    </div>

    <!-- Invoice Info -->
    <div class="info-section">
      <h3>Thông tin hóa đơn</h3>
      <div class="info-row">
        <strong>Mã hóa đơn:</strong>
        <span>{{invoice.id}}</span>
      </div>
      <div class="info-row">
        <strong>Ngày phát hành:</strong>
        <span>{{invoice.issuedAt}}</span>
      </div>
      <div class="info-row">
        <strong>Trạng thái:</strong>
        <span>{{invoice.status}}</span>
      </div>
    </div>

    <!-- Customer Info -->
    <div class="info-section">
      <h3>Thông tin khách hàng</h3>
      <div class="info-row">
        <strong>Họ tên:</strong>
        <span>{{invoice.booking.fullName}}</span>
      </div>
      <div class="info-row">
        <strong>Số điện thoại:</strong>
        <span>{{invoice.booking.phone}}</span>
      </div>
      {{#if invoice.booking.email}}
      <div class="info-row">
        <strong>Email:</strong>
        <span>{{invoice.booking.email}}</span>
      </div>
      {{/if}}
    </div>

    <!-- Booking Code -->
    <div class="booking-code">
      <h3>MÃ ĐẶT LỊCH CỦA BẠN</h3>
      <div class="code-display">{{invoice.booking.code}}</div>
      <p style="margin: 15px 0 0 0; color: #666;">Vui lòng lưu lại mã này để tra cứu khi cần thiết</p>
    </div>

    <!-- Service Info -->
    <div class="info-section">
      <h3>Thông tin dịch vụ</h3>
      <div class="info-row">
        <strong>Mã đặt lịch:</strong>
        <span>{{invoice.booking.code}}</span>
      </div>
      {{#if invoice.booking.vendor}}
      <div class="info-row">
        <strong>Nhà cung cấp:</strong>
        <span>{{invoice.booking.vendor.name}}</span>
      </div>
      {{/if}}
      {{#if invoice.booking.serviceConcept}}
      <div class="info-row">
        <strong>Dịch vụ:</strong>
        <span>{{invoice.booking.serviceConcept.name}}</span>
      </div>
      {{#if invoice.booking.serviceConcept.servicePackage}}
      <div class="info-row">
        <strong>Gói dịch vụ:</strong>
        <span>{{invoice.booking.serviceConcept.servicePackage.name}}</span>
      </div>
      {{/if}}
      {{else}}
      <div class="info-row">
        <strong>Dịch vụ:</strong>
        <span>Không xác định</span>
      </div>
      {{/if}}
      <div class="info-row">
        <strong>Ngày đặt:</strong>
        <span>{{invoice.booking.date}}</span>
      </div>
      <div class="info-row">
        <strong>Giờ đặt:</strong>
        <span>{{invoice.booking.time}}</span>
      </div>
    </div>

    <!-- Price Breakdown -->
    <div class="price-breakdown">
      <h3>Chi tiết thanh toán</h3>
      <div class="price-row">
        <span>Giá dịch vụ:</span>
        <span>{{invoice.originalPrice}} VND</span>
      </div>
      {{#if invoice.discountAmount}}
      {{#if (gt invoice.discountAmount 0)}}
      <div class="price-row">
        <span>Giảm giá:</span>
        <span>-{{invoice.discountAmount}} VND</span>
      </div>
      {{/if}}
      {{/if}}
      <div class="price-row">
        <span>Thuế VAT:</span>
        <span>{{invoice.taxAmount}} VND</span>
      </div>
      <div class="price-row">
        <span>Tổng cộng:</span>
        <span>{{invoice.payablePrice}} VND</span>
      </div>
    </div>

    <!-- Payment Details -->
    <div class="info-section">
      <h3>Chi tiết thanh toán</h3>
      <div class="info-row">
        <strong>Đã thanh toán:</strong>
        <span>{{invoice.paidAmount}} VND</span>
      </div>
      <div class="info-row">
        <strong>Đặt cọc:</strong>
        <span>{{invoice.depositAmount}} VND</span>
      </div>
      <div class="info-row">
        <strong>Còn lại:</strong>
        <span>{{invoice.remainingAmount}} VND</span>
      </div>
    </div>

    <!-- Footer -->
    <div class="footer">
      <p><strong>PhotoGo</strong> - Kết nối khách hàng với nhiếp ảnh gia, studio và chuyên gia trang điểm.</p>
      <p>© 2025 PhotoGo. Tất cả các quyền được bảo lưu.</p>
      <p>Hỗ trợ: support@photogo.com</p>
    </div>
  </div>
</body>
</html> 